"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("preact"),t=require("preact/hooks");function e(r,t,e,n,a,u,o){try{var c=r[u](o),i=c.value}catch(r){return void e(r)}c.done?t(i):Promise.resolve(i).then(n,a)}function n(r){return function(){var t=this,n=arguments;return new Promise((function(a,u){var o=r.apply(t,n);function c(r){e(o,a,u,c,i,"next",r)}function i(r){e(o,a,u,c,i,"throw",r)}c(void 0)}))}}function a(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(r)))return;var e=[],n=!0,a=!1,u=void 0;try{for(var o,c=r[Symbol.iterator]();!(n=(o=c.next()).done)&&(e.push(o.value),!t||e.length!==t);n=!0);}catch(r){a=!0,u=r}finally{try{n||null==c.return||c.return()}finally{if(a)throw u}}return e}(r,t)||function(r,t){if(!r)return;if("string"==typeof r)return u(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var o=function(r){return 204===r.status||205===r.status?null:r.json()},c=function(r){return r.status>=200&&r.status<300?r:r.json().then((function(t){if(200===r.status)return t;throw t}))};function i(r,t){return s.apply(this,arguments)}function s(){return(s=n(regeneratorRuntime.mark((function r(t,e){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(t,e).then(c).then(o);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}var f=function(){var r=n(regeneratorRuntime.mark((function r(e,a){var u,o,c,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=!1,c=!0,s=t.useCallback((function(){return function(){var r=n(regeneratorRuntime.mark((function r(t){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i(t,a);case 3:return r.abrupt("return",u=r.sent);case 6:r.prev=6,r.t0=r.catch(0),o=r.t0;case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(t){return r.apply(this,arguments)}}()(e)}),[e]),r.next=4,s();case 4:return r.abrupt("return",{payload:u,error:o,loading:c});case 5:case"end":return r.stop()}}),r)})));return function(t,e){return r.apply(this,arguments)}}();Object.keys(r).forEach((function(t){"default"!==t&&Object.defineProperty(exports,t,{enumerable:!0,get:function(){return r[t]}})})),exports.fetchData=f,exports.useDataFetch=function(r,e){var u=a(t.useState({payload:!1,error:!1}),2),o=u[0],c=o.payload,s=o.error,f=u[1],l=a(t.useState(!0),2),p=l[0],h=l[1];return t.useEffect((function(){(function(){var r=n(regeneratorRuntime.mark((function r(t){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i(t,e);case 3:n=r.sent,console.log("loadData -> data",n),f({payload:n}),h(!1),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),f({error:r.t0}),h(!1);case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(t){return r.apply(this,arguments)}})()(r,e)}),[r,e]),{payload:c,error:s,loading:p}};
