export*from"preact";import{useState as r,useEffect as t,useCallback as n}from"preact/hooks";function e(r,t,n,e,o,a,u){try{var i=r[a](u),c=i.value}catch(r){return void n(r)}i.done?t(c):Promise.resolve(c).then(e,o)}function o(r){return function(){var t=this,n=arguments;return new Promise((function(o,a){var u=r.apply(t,n);function i(r){e(u,o,a,i,c,"next",r)}function c(r){e(u,o,a,i,c,"throw",r)}i(void 0)}))}}function a(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(r)))return;var n=[],e=!0,o=!1,a=void 0;try{for(var u,i=r[Symbol.iterator]();!(e=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);e=!0);}catch(r){o=!0,a=r}finally{try{e||null==i.return||i.return()}finally{if(o)throw a}}return n}(r,t)||function(r,t){if(!r)return;if("string"==typeof r)return u(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(r);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}var i=function(r){return 204===r.status||205===r.status?null:r.json()},c=function(r){return r.status>=200&&r.status<300?r:r.json().then((function(t){if(200===r.status)return t;throw t}))};function s(r,t){return f.apply(this,arguments)}function f(){return(f=o(regeneratorRuntime.mark((function r(t,n){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(t,n).then(c).then(i);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}var p=function(n,e){var u=a(r({payload:!1,error:!1}),2),i=u[0],c=i.payload,f=i.error,p=u[1],l=a(r(!0),2),v=l[0],h=l[1];return t((function(){(function(){var r=o(regeneratorRuntime.mark((function r(t){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s(t,e);case 3:n=r.sent,console.log("loadData -> data",n),p({payload:n}),h(!1),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),p({error:r.t0}),h(!1);case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(t){return r.apply(this,arguments)}})()(n,e)}),[n,e]),{payload:c,error:f,loading:v}},l=function(){var r=o(regeneratorRuntime.mark((function r(t,e){var a,u,i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=!1,i=!0,c=n((function(){return function(){var r=o(regeneratorRuntime.mark((function r(t){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s(t,e);case 3:return r.abrupt("return",a=r.sent);case 6:r.prev=6,r.t0=r.catch(0),u=r.t0;case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(t){return r.apply(this,arguments)}}()(t)}),[t]),r.next=4,c();case 4:return r.abrupt("return",{payload:a,error:u,loading:i});case 5:case"end":return r.stop()}}),r)})));return function(t,n){return r.apply(this,arguments)}}();export{l as fetchData,p as useDataFetch};
